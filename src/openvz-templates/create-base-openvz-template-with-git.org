#+TITLE: Create a VLEAD open VZ template with git
#+AUTHOR: VLEAD
#+DATE: [2017-11-06 Mon]
#+SETUPFILE: ./org-templates/level-0.org
#+TAGS: boilerplate(b)
#+EXCLUDE_TAGS: boilerplate
#+OPTIONS: ^:nil

* Introduction
  This document lists steps to create an open VZ
  template with the latest git version.  This template is
  built from the base template.

* Requirements
  1. Update the machine with 6.9 version
  2. Install Emacs for developer environment.  Here version
     is not important. 
  3. Install git 2.7.4

* Steps
** Build from the base template
   Follow the steps listed at [[https://github.com/vlead/vlead-templates/blob/develop/src/openvz-templates/create-base-openvz-template-with-git.org][base template steps]] to create
   a base template.  
** Install git 2.7.4
   Latest git is installed from the sources.  Please refer
   [[https://stackoverflow.com/questions/21820715/how-to-install-latest-version-of-git-on-centos-6-x-7-x][here]]. 
   - Steps:
     1. Install Required Packages
        #+BEGIN_EXAMPLE
        yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel -y
        yum install  gcc perl-ExtUtils-MakeMaker -y
        #+END_EXAMPLE
     2. Uninstall old Git RPM
        #+BEGIN_EXAMPLE
        yum remove git
        #+END_EXAMPLE
     3. Download and Compile Git Source
        #+BEGIN_EXAMPLE
        cd /usr/src
        wget https://www.kernel.org/pub/software/scm/git/git-2.7.4.tar.gz
        tar xzf git-2.7.4.tar.gz
        #+END_EXAMPLE
     4. Compile sources
        #+BEGIN_EXAMPLE
        cd git-2.7.4
        make prefix=/usr/local/git all
        make prefix=/usr/local/git install
        echo 'export PATH=$PATH:/usr/local/git/bin' >> /etc/bashrc
        source /etc/bashrc
        #+END_EXAMPLE
     5. Check git version
        #+BEGIN_EXAMPLE
        git --version
        #+END_EXAMPLE

